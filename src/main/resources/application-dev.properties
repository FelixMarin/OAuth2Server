# ============================
# ğŸ”Œ Base de datos H2 (modo archivo)
# ============================
spring.datasource.url=jdbc:h2:file:${user.home}/data/oauth2db
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driverClassName=org.h2.Driver

# ============================
# ğŸ–¥ï¸ Consola H2
# ============================
spring.h2.console.settings.web-allow-others=true
# Puerto del servidor
server.port=8080
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ============================
# ğŸ—„ï¸ JPA / Hibernate
# ============================
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Ejecutar data.sql solo si existe
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=never

# ============================
# âŒ Flyway deshabilitado en dev
# ============================
spring.flyway.enabled=false

# ============================
# ğŸ” OAuth2 (solo dev)
# ============================
oauth2.client-id=proveedor-oauth
oauth2.client-secret=123456
oauth2.redirect-uri=http://localhost:8080/login.html
oauth2.access-token-validity-seconds=86400
oauth2.refresh-token-validity-seconds=1296000

# Usuario admin por defecto
oauth2.default-user.username=admin
oauth2.default-user.password=Admin1

# Habilitar grant type password
oauth2.grant-type.password.enabled=true

# ============================
# ğŸ”‘ JWT Authorization Server (CORREGIDO)
# ============================
spring.security.oauth2.authorizationserver.issuer=http://localhost:8080

# Habilitar grant types del servidor de autorizaciÃ³n
spring.security.oauth2.authorizationservers.grant-types.password.enabled=true
spring.security.oauth2.authorizationservers.grant-types.refresh-token.enabled=true
spring.security.oauth2.authorizationservers.grant-types.client-credentials.enabled=true

# ============================
# ğŸ”‘ JWT Resource Server
# ============================
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080