[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--------------------< [0;36mcom.oauth.rest:OAuth2Server[0;1m >---------------------[m
[[1;34mINFO[m] [1mBuilding OAuth2Server 0.0.1-SNAPSHOT[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m>>> [0;32mspring-boot-maven-plugin:3.5.11:run[m [1m(default-cli)[0;1m > [0;1mtest-compile[m @ [36mOAuth2Server[0;1m >>>[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:resources[m [1m(default-resources)[m @ [36mOAuth2Server[0;1m ---[m
[[1;34mINFO[m] Copying 4 resources from src/main/resources to target/classes
[[1;34mINFO[m] Copying 7 resources from src/main/resources to target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.13.0:compile[m [1m(default-compile)[m @ [36mOAuth2Server[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:testResources[m [1m(default-testResources)[m @ [36mOAuth2Server[0;1m ---[m
[[1;34mINFO[m] skip non existing resourceDirectory /home/jetson/Public/casino/OAuth2Server/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.13.0:testCompile[m [1m(default-testCompile)[m @ [36mOAuth2Server[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m<<< [0;32mspring-boot-maven-plugin:3.5.11:run[m [1m(default-cli)[0;1m < [0;1mtest-compile[m @ [36mOAuth2Server[0;1m <<<[m
[[1;34mINFO[m] 
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:3.5.11:run[m [1m(default-cli)[m @ [36mOAuth2Server[0;1m ---[m
[[1;34mINFO[m] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.5.11)

2026-02-22T16:21:38.764+01:00  INFO 280841 --- [           main] com.oauth.rest.Application               : Starting Application using Java 21.0.10 with PID 280841 (/home/jetson/Public/casino/OAuth2Server/target/classes started by jetson in /home/jetson/Public/casino/OAuth2Server)
2026-02-22T16:21:38.769+01:00  INFO 280841 --- [           main] com.oauth.rest.Application               : The following 1 profile is active: "dev"
2026-02-22T16:21:40.243+01:00  INFO 280841 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-22T16:21:40.337+01:00  INFO 280841 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 1 JPA repository interface.
2026-02-22T16:21:41.503+01:00  INFO 280841 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-22T16:21:41.529+01:00  INFO 280841 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-22T16:21:41.530+01:00  INFO 280841 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.52]
2026-02-22T16:21:41.633+01:00  INFO 280841 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-22T16:21:41.635+01:00  INFO 280841 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2784 ms
2026-02-22T16:21:42.100+01:00  INFO 280841 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-02-22T16:21:42.429+01:00  INFO 280841 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:oauth2db user=SA
2026-02-22T16:21:42.432+01:00  INFO 280841 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-02-22T16:21:42.514+01:00  INFO 280841 --- [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:h2:mem:oauth2db (H2 2.3)
2026-02-22T16:21:42.570+01:00  INFO 280841 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2026-02-22T16:21:42.574+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 6 migrations (execution time 00:00.031s)
2026-02-22T16:21:42.588+01:00  INFO 280841 --- [           main] org.flywaydb.core.Flyway                 : All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2026-02-22T16:21:42.590+01:00  INFO 280841 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2026-02-22T16:21:42.649+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2026-02-22T16:21:42.664+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1 - init schema and admin"
2026-02-22T16:21:42.695+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "2 - add user juanaco"
2026-02-22T16:21:42.705+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "3 - update passwords bcrypt"
2026-02-22T16:21:42.718+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "4 - add field aplicacion"
2026-02-22T16:21:42.736+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "5 - add user field app"
2026-02-22T16:21:42.745+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "6 - create usuarios seq"
2026-02-22T16:21:42.761+01:00  INFO 280841 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 6 migrations to schema "PUBLIC", now at version v6 (execution time 00:00.037s)
2026-02-22T16:21:42.905+01:00  INFO 280841 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-22T16:21:43.000+01:00  INFO 280841 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.42.Final
2026-02-22T16:21:43.063+01:00  INFO 280841 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-22T16:21:43.544+01:00  INFO 280841 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-22T16:21:43.626+01:00  WARN 280841 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-22T16:21:43.649+01:00  INFO 280841 --- [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-22T16:21:45.115+01:00  INFO 280841 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-22T16:21:45.162+01:00  INFO 280841 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-22T16:21:48.190+01:00  WARN 280841 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-22T16:21:48.524+01:00  INFO 280841 --- [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-02-22T16:21:48.683+01:00 DEBUG 280841 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/**']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-22T16:21:48.698+01:00 DEBUG 280841 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/h2-console/**']] with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-02-22T16:21:49.017+01:00 DEBUG 280841 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000000e001a2f098@27215154 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-02-22T16:21:49.082+01:00  INFO 280841 --- [           main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2026-02-22T16:21:49.442+01:00  INFO 280841 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:oauth2db'
2026-02-22T16:21:49.566+01:00  INFO 280841 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-02-22T16:21:49.587+01:00  INFO 280841 --- [           main] com.oauth.rest.Application               : Started Application in 11.55 seconds (process running for 12.08)
ðŸ” Perfiles activos: [dev]
Hibernate: 
    select
        count(*) 
    from
        usuarios ue1_0
â„¹ï¸  Usuarios ya existentes en la base de datos
âœ… Perfiles activos: dev
âœ… URL H2: jdbc:h2:mem:oauth2db;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
âœ… Driver: org.h2.Driver
âœ… Puerto: 8080
2026-02-22T16:22:03.299+01:00  INFO 280841 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-22T16:22:03.300+01:00  INFO 280841 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-22T16:22:03.303+01:00  INFO 280841 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-02-22T16:22:03.336+01:00 DEBUG 280841 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2026-02-22T16:22:03.353+01:00 DEBUG 280841 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2026-02-22T16:22:03.903+01:00 DEBUG 280841 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-22T16:22:14.879+01:00 DEBUG 280841 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=proveedor-oauth&redirect_uri=http://localhost:3000/callback&scope=openid%20profile%20read%20write&code_challenge=&code_challenge_method=S256
2026-02-22T16:22:14.920+01:00 DEBUG 280841 --- [nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2AuthorizationCodeRequestAuthenticationProvider since OAuth 2.0 Parameter: code_challenge
2026-02-22T16:22:14.929+01:00 DEBUG 280841 --- [nio-8080-exec-2] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2026-02-22T16:22:14.929+01:00 DEBUG 280841 --- [nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-02-22T16:22:14.934+01:00 DEBUG 280841 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/callback?error=invalid_request&error_description=OAuth%202.0%20Parameter%3A%20code_challenge&error_uri=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc7636%23section-4.4.1
2026-02-22T16:22:26.799+01:00 DEBUG 280841 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=proveedor-oauth&redirect_uri=http://localhost:3000/callback&scope=openid%20profile%20read%20write&code_challenge=E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM&code_challenge_method=S256
2026-02-22T16:22:26.804+01:00 DEBUG 280841 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-02-22T16:22:26.828+01:00 DEBUG 280841 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=proveedor-oauth&redirect_uri=http://localhost:3000/callback&scope=openid%20profile%20read%20write&code_challenge=E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM&code_challenge_method=S256&continue to session
2026-02-22T16:22:26.829+01:00 DEBUG 280841 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2026-02-22T16:22:51.646+01:00 DEBUG 280841 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-02-22T16:22:51.855+01:00 DEBUG 280841 --- [nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authentication failed with provider ClientSecretAuthenticationProvider since Client authentication failed: code
2026-02-22T16:22:51.857+01:00 DEBUG 280841 --- [nio-8080-exec-6] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-02-22T16:22:51.857+01:00 DEBUG 280841 --- [nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;31mBUILD FAILURE[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  05:31 min
[[1;34mINFO[m] Finished at: 2026-02-22T16:27:06+01:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;31mERROR[m] Failed to execute goal [32morg.springframework.boot:spring-boot-maven-plugin:3.5.11:run[m [1m(default-cli)[m on project [36mOAuth2Server[m: [1;31mProcess terminated with exit code: 137[m -> [1m[Help 1][m
[[1;31mERROR[m] 
[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.
[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.
[[1;31mERROR[m] 
[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:
[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
